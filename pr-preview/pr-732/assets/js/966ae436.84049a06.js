"use strict";(self.webpackChunkopenfga_dev=self.webpackChunkopenfga_dev||[]).push([[7773],{19230:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>h,contentTitle:()=>o,default:()=>x,frontMatter:()=>d,metadata:()=>c,toc:()=>p});var i=t(74848),n=t(28453),r=t(36289),l=t(11470),a=t(19365);const d={title:"Perform a List Users call",sidebar_position:4,slug:"/getting-started/perform-list-users",description:"List all users that have a certain relation with a particular object"},o="Perform a List Users call",c={id:"content/getting-started/perform-list-users",title:"Perform a List Users call",description:"List all users that have a certain relation with a particular object",source:"@site/docs/content/getting-started/perform-list-users.mdx",sourceDirName:"content/getting-started",slug:"/getting-started/perform-list-users",permalink:"/pr-preview/pr-732/docs/getting-started/perform-list-users",draft:!1,unlisted:!1,editUrl:"https://github.com/openfga/openfga.dev/edit/main/docs/content/getting-started/perform-list-users.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Perform a List Users call",sidebar_position:4,slug:"/getting-started/perform-list-users",description:"List all users that have a certain relation with a particular object"},sidebar:"docs",previous:{title:"Perform a List Objects call",permalink:"/pr-preview/pr-732/docs/getting-started/perform-list-objects"},next:{title:"Use the FGA CLI",permalink:"/pr-preview/pr-732/docs/getting-started/cli"}},h={},p=[{value:"Before You Start",id:"before-you-start",level:2},{value:"Step By Step",id:"step-by-step",level:2},{value:"01. Configure the <ProductName></ProductName> API Client",id:"01-configure-the--api-client",level:3},{value:"02. Calling List Objects API",id:"02-calling-list-objects-api",level:3},{value:"Related Sections",id:"related-sections",level:2}];function u(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"perform-a-list-users-call",children:"Perform a List Users call"}),"\n",(0,i.jsx)(s.admonition,{title:"Warning",type:"caution",children:(0,i.jsxs)(s.p,{children:["ListUsers is currently in an experimental release. Read ",(0,i.jsx)(s.a,{href:"https://openfga.dev/blog/list-users-announcement",children:"the announcement"})," for more information."]})}),"\n",(0,i.jsx)(r.ZE,{}),"\n",(0,i.jsxs)(s.p,{children:["This section will illustrate how to perform a ",(0,i.jsx)(r.OK,{section:"what-is-a-list-users-request",linkName:"list users"})," request to determine all the ",(0,i.jsx)(r.OK,{section:"what-is-a-user",linkName:"users"})," of a given ",(0,i.jsx)(r.OK,{section:"what-is-a-type",linkName:"type"})," that have a specified ",(0,i.jsx)(r.OK,{section:"what-is-a-relationship",linkName:"relationship"})," with a given ",(0,i.jsx)(r.OK,{section:"what-is-an-object",linkName:"objects"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"before-you-start",children:"Before You Start"}),"\n",(0,i.jsxs)(l.A,{groupId:"languages",children:[(0,i.jsx)(a.A,{value:r.NH.JS_SDK,label:r.px.get(r.NH.JS_SDK),children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(r.iz,{}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsx)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/install-sdk",children:"installed the SDK"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/configure-model",children:["configured the ",(0,i.jsx)(s.em,{children:"authorization model"})]})," and ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/update-tuples",children:["updated the ",(0,i.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have loaded ",(0,i.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,i.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,i.jsx)(a.A,{value:r.NH.GO_SDK,label:r.px.get(r.NH.GO_SDK),children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(r.iz,{}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsx)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/install-sdk",children:"installed the SDK"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/configure-model",children:["configured the ",(0,i.jsx)(s.em,{children:"authorization model"})]})," and ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/update-tuples",children:["updated the ",(0,i.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have loaded ",(0,i.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,i.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,i.jsx)(a.A,{value:r.NH.DOTNET_SDK,label:r.px.get(r.NH.DOTNET_SDK),children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(r.iz,{}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsx)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/install-sdk",children:"installed the SDK"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/configure-model",children:["configured the ",(0,i.jsx)(s.em,{children:"authorization model"})]})," and ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/update-tuples",children:["updated the ",(0,i.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have loaded ",(0,i.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,i.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,i.jsx)(a.A,{value:r.NH.PYTHON_SDK,label:r.px.get(r.NH.PYTHON_SDK),children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(r.iz,{}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsx)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/install-sdk",children:"installed the SDK"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/configure-model",children:["configured the ",(0,i.jsx)(s.em,{children:"authorization model"})]})," and ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/update-tuples",children:["updated the ",(0,i.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have loaded ",(0,i.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,i.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,i.jsx)(a.A,{value:r.NH.JAVA_SDK,label:r.px.get(r.NH.JAVA_SDK),children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(r.iz,{}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsx)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/install-sdk",children:"installed the SDK"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/configure-model",children:["configured the ",(0,i.jsx)(s.em,{children:"authorization model"})]})," and ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/update-tuples",children:["updated the ",(0,i.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have loaded ",(0,i.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,i.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,i.jsx)(a.A,{value:r.NH.CLI,label:r.px.get(r.NH.CLI),children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(r.iz,{}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/configure-model",children:["configured the ",(0,i.jsx)(s.em,{children:"authorization model"})]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have loaded ",(0,i.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,i.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,i.jsx)(a.A,{value:r.NH.CURL,label:r.px.get(r.NH.CURL),children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(r.iz,{}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/configure-model",children:["configured the ",(0,i.jsx)(s.em,{children:"authorization model"})]})," and ",(0,i.jsxs)(s.a,{href:"/pr-preview/pr-732/docs/getting-started/update-tuples",children:["updated the ",(0,i.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You have loaded ",(0,i.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,i.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})})]}),"\n",(0,i.jsx)(s.h2,{id:"step-by-step",children:"Step By Step"}),"\n",(0,i.jsxs)(s.p,{children:["Assume that you want to list all users of type ",(0,i.jsx)(s.code,{children:"user"})," that have a ",(0,i.jsx)(s.code,{children:"reader"})," relationship with ",(0,i.jsx)(s.code,{children:"document:planning"}),":"]}),"\n",(0,i.jsxs)(s.h3,{id:"01-configure-the--api-client",children:["01. Configure the ",(0,i.jsx)(r.bU,{format:r.Ed.ShortForm})," API Client"]}),"\n",(0,i.jsx)(s.p,{children:"Before calling the check API, you will need to configure the API client."}),"\n",(0,i.jsxs)(l.A,{groupId:"languages",children:[(0,i.jsx)(a.A,{value:r.NH.JS_SDK,label:r.px.get(r.NH.JS_SDK),children:(0,i.jsx)(r.nD,{lang:r.NH.JS_SDK})}),(0,i.jsx)(a.A,{value:r.NH.GO_SDK,label:r.px.get(r.NH.GO_SDK),children:(0,i.jsx)(r.nD,{lang:r.NH.GO_SDK})}),(0,i.jsx)(a.A,{value:r.NH.DOTNET_SDK,label:r.px.get(r.NH.DOTNET_SDK),children:(0,i.jsx)(r.nD,{lang:r.NH.DOTNET_SDK})}),(0,i.jsx)(a.A,{value:r.NH.PYTHON_SDK,label:r.px.get(r.NH.PYTHON_SDK),children:(0,i.jsx)(r.nD,{lang:r.NH.PYTHON_SDK})}),(0,i.jsx)(a.A,{value:r.NH.JAVA_SDK,label:r.px.get(r.NH.JAVA_SDK),children:(0,i.jsx)(r.nD,{lang:r.NH.JAVA_SDK})}),(0,i.jsx)(a.A,{value:r.NH.CLI,label:r.px.get(r.NH.CLI),children:(0,i.jsx)(r.nD,{lang:r.NH.CLI})}),(0,i.jsxs)(a.A,{value:r.NH.CURL,label:r.px.get(r.NH.CURL),children:[(0,i.jsxs)(s.p,{children:["To obtain the ",(0,i.jsx)(s.a,{href:"https://auth0.com/docs/get-started/authentication-and-authorization-flow/call-your-api-using-the-client-credentials-flow",children:"access token"}),":"]}),(0,i.jsx)(r.nD,{lang:r.NH.CURL})]})]}),"\n",(0,i.jsx)(s.h3,{id:"02-calling-list-objects-api",children:"02. Calling List Objects API"}),"\n",(0,i.jsxs)(s.p,{children:["To return all documents that user ",(0,i.jsx)(s.code,{children:"user:anne"})," has relationship ",(0,i.jsx)(s.code,{children:"reader"})," with:"]}),"\n",(0,i.jsx)(r.ed,{authorizationModelId:"01HVMMBCMGZNT3SED4Z17ECXCA",objectType:"document",objectId:"planning",relation:"reader",userFilterType:"user",expectedResults:{users:[{object:{type:"user:anne"}}],excluded_users:[{object:{type:"user:beth"}}]},skipSetup:!0,allowedLanguages:[r.NH.JS_SDK,r.NH.GO_SDK,r.NH.DOTNET_SDK,r.NH.PYTHON_SDK,r.NH.JAVA_SDK,r.NH.CLI,r.NH.CURL]}),"\n",(0,i.jsxs)(s.p,{children:["The result ",(0,i.jsx)(s.code,{children:"document:otherdoc"})," and ",(0,i.jsx)(s.code,{children:"document:planning"})," are the document objects that ",(0,i.jsx)(s.code,{children:"user:anne"})," has ",(0,i.jsx)(s.code,{children:"reader"})," relationship with."]}),"\n",(0,i.jsx)(s.admonition,{title:"Warning",type:"caution",children:(0,i.jsx)(s.p,{children:"The performance characteristics of the ListUsers endpoint vary drastically depending on the model complexity, number of tuples, and the relations it needs to evaluate. Relations with 'and' or 'but not' are more expensive to evaluate than relations with 'or'."})}),"\n",(0,i.jsx)(s.h2,{id:"related-sections",children:"Related Sections"}),"\n",(0,i.jsx)(r.XQ,{description:"Take a look at the following section for more on how to perform list users in your system",relatedLinks:[{title:"{ProductName} List Users API",description:"Read the List Users API documentation and see how it works.",link:"/api/service#Relationship%20Queries/ListUsers"}]})]})}function x(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);