"use strict";(self.webpackChunkopenfga_dev=self.webpackChunkopenfga_dev||[]).push([[7773],{19230:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>h,contentTitle:()=>o,default:()=>j,frontMatter:()=>d,metadata:()=>c,toc:()=>u});var n=t(74848),i=t(28453),l=t(36289),r=t(11470),a=t(19365);const d={title:"Perform a List Users call",sidebar_position:4,slug:"/getting-started/perform-list-users",description:"List all users that have a certain relation with a particular object"},o="Perform a List Users call",c={id:"content/getting-started/perform-list-users",title:"Perform a List Users call",description:"List all users that have a certain relation with a particular object",source:"@site/docs/content/getting-started/perform-list-users.mdx",sourceDirName:"content/getting-started",slug:"/getting-started/perform-list-users",permalink:"/docs/getting-started/perform-list-users",draft:!1,unlisted:!1,editUrl:"https://github.com/openfga/openfga.dev/edit/main/docs/content/getting-started/perform-list-users.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Perform a List Users call",sidebar_position:4,slug:"/getting-started/perform-list-users",description:"List all users that have a certain relation with a particular object"},sidebar:"docs",previous:{title:"Perform a List Objects call",permalink:"/docs/getting-started/perform-list-objects"},next:{title:"Use the FGA CLI",permalink:"/docs/getting-started/cli"}},h={},u=[{value:"Before You Start",id:"before-you-start",level:2},{value:"Step By Step",id:"step-by-step",level:2},{value:"01. Configure the <ProductName></ProductName> API Client",id:"01-configure-the--api-client",level:3},{value:"02. Calling List Users API",id:"02-calling-list-users-api",level:3},{value:"Related Sections",id:"related-sections",level:2}];function x(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"perform-a-list-users-call",children:"Perform a List Users call"}),"\n",(0,n.jsx)(s.admonition,{title:"Warning",type:"caution",children:(0,n.jsxs)(s.p,{children:["ListUsers is currently in an experimental release. Read ",(0,n.jsx)(s.a,{href:"https://openfga.dev/blog/list-users-announcement",children:"the announcement"})," for more information."]})}),"\n",(0,n.jsx)(l.ZE,{}),"\n",(0,n.jsxs)(s.p,{children:["This section will illustrate how to perform a ",(0,n.jsx)(l.OK,{section:"what-is-a-list-users-request",linkName:"list users"})," request to determine all the ",(0,n.jsx)(l.OK,{section:"what-is-a-user",linkName:"users"})," of a given ",(0,n.jsx)(l.OK,{section:"what-is-a-type",linkName:"type"})," that have a specified ",(0,n.jsx)(l.OK,{section:"what-is-a-relationship",linkName:"relationship"})," with a given ",(0,n.jsx)(l.OK,{section:"what-is-an-object",linkName:"objects"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"before-you-start",children:"Before You Start"}),"\n",(0,n.jsxs)(r.A,{groupId:"languages",children:[(0,n.jsx)(a.A,{value:l.NH.JS_SDK,label:l.px.get(l.NH.JS_SDK),children:(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(l.iz,{}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsx)(s.a,{href:"/docs/getting-started/install-sdk",children:"installed the SDK"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/configure-model",children:["configured the ",(0,n.jsx)(s.em,{children:"authorization model"})]})," and ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/update-tuples",children:["updated the ",(0,n.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have loaded ",(0,n.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,n.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,n.jsx)(a.A,{value:l.NH.GO_SDK,label:l.px.get(l.NH.GO_SDK),children:(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(l.iz,{}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsx)(s.a,{href:"/docs/getting-started/install-sdk",children:"installed the SDK"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/configure-model",children:["configured the ",(0,n.jsx)(s.em,{children:"authorization model"})]})," and ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/update-tuples",children:["updated the ",(0,n.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have loaded ",(0,n.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,n.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,n.jsx)(a.A,{value:l.NH.DOTNET_SDK,label:l.px.get(l.NH.DOTNET_SDK),children:(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(l.iz,{}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsx)(s.a,{href:"/docs/getting-started/install-sdk",children:"installed the SDK"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/configure-model",children:["configured the ",(0,n.jsx)(s.em,{children:"authorization model"})]})," and ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/update-tuples",children:["updated the ",(0,n.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have loaded ",(0,n.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,n.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,n.jsx)(a.A,{value:l.NH.JAVA_SDK,label:l.px.get(l.NH.JAVA_SDK),children:(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(l.iz,{}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsx)(s.a,{href:"/docs/getting-started/install-sdk",children:"installed the SDK"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/configure-model",children:["configured the ",(0,n.jsx)(s.em,{children:"authorization model"})]})," and ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/update-tuples",children:["updated the ",(0,n.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have loaded ",(0,n.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,n.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,n.jsx)(a.A,{value:l.NH.CLI,label:l.px.get(l.NH.CLI),children:(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(l.iz,{}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/configure-model",children:["configured the ",(0,n.jsx)(s.em,{children:"authorization model"})]}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have loaded ",(0,n.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,n.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})}),(0,n.jsx)(a.A,{value:l.NH.CURL,label:l.px.get(l.NH.CURL),children:(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(l.iz,{}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/configure-model",children:["configured the ",(0,n.jsx)(s.em,{children:"authorization model"})]})," and ",(0,n.jsxs)(s.a,{href:"/docs/getting-started/update-tuples",children:["updated the ",(0,n.jsx)(s.em,{children:"relationship tuples"})]}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["You have loaded ",(0,n.jsx)(s.code,{children:"FGA_STORE_ID"})," and ",(0,n.jsx)(s.code,{children:"FGA_API_URL"})," as environment variables."]}),"\n"]})})]}),"\n",(0,n.jsx)(s.h2,{id:"step-by-step",children:"Step By Step"}),"\n",(0,n.jsxs)(s.p,{children:["Assume that you want to list all users of type ",(0,n.jsx)(s.code,{children:"user"})," that have a ",(0,n.jsx)(s.code,{children:"reader"})," relationship with ",(0,n.jsx)(s.code,{children:"document:planning"}),":"]}),"\n",(0,n.jsxs)(s.h3,{id:"01-configure-the--api-client",children:["01. Configure the ",(0,n.jsx)(l.bU,{format:l.Ed.ShortForm})," API Client"]}),"\n",(0,n.jsx)(s.p,{children:"Before calling the ListUsers API, you will need to configure the API client."}),"\n",(0,n.jsxs)(r.A,{groupId:"languages",children:[(0,n.jsx)(a.A,{value:l.NH.JS_SDK,label:l.px.get(l.NH.JS_SDK),children:(0,n.jsx)(l.nD,{lang:l.NH.JS_SDK})}),(0,n.jsx)(a.A,{value:l.NH.GO_SDK,label:l.px.get(l.NH.GO_SDK),children:(0,n.jsx)(l.nD,{lang:l.NH.GO_SDK})}),(0,n.jsx)(a.A,{value:l.NH.DOTNET_SDK,label:l.px.get(l.NH.DOTNET_SDK),children:(0,n.jsx)(l.nD,{lang:l.NH.DOTNET_SDK})}),(0,n.jsx)(a.A,{value:l.NH.JAVA_SDK,label:l.px.get(l.NH.JAVA_SDK),children:(0,n.jsx)(l.nD,{lang:l.NH.JAVA_SDK})}),(0,n.jsx)(a.A,{value:l.NH.CLI,label:l.px.get(l.NH.CLI),children:(0,n.jsx)(l.nD,{lang:l.NH.CLI})}),(0,n.jsxs)(a.A,{value:l.NH.CURL,label:l.px.get(l.NH.CURL),children:[(0,n.jsxs)(s.p,{children:["To obtain the ",(0,n.jsx)(s.a,{href:"https://auth0.com/docs/get-started/authentication-and-authorization-flow/call-your-api-using-the-client-credentials-flow",children:"access token"}),":"]}),(0,n.jsx)(l.nD,{lang:l.NH.CURL})]})]}),"\n",(0,n.jsx)(s.h3,{id:"02-calling-list-users-api",children:"02. Calling List Users API"}),"\n",(0,n.jsxs)(s.p,{children:["To return all users of type ",(0,n.jsx)(s.code,{children:"user"})," that have have the ",(0,n.jsx)(s.code,{children:"reader"})," relationship with ",(0,n.jsx)(s.code,{children:"document:planning"}),":"]}),"\n",(0,n.jsx)(l.ed,{authorizationModelId:"01HVMMBCMGZNT3SED4Z17ECXCA",objectType:"document",objectId:"planning",relation:"reader",userFilterType:"user",expectedResults:{users:[{object:{type:"user:anne"}},{object:{type:"user:beth"}}],excluded_users:[]},skipSetup:!0,allowedLanguages:[l.NH.JS_SDK,l.NH.GO_SDK,l.NH.DOTNET_SDK,l.NH.JAVA_SDK,l.NH.CLI,l.NH.CURL]}),"\n",(0,n.jsxs)(s.p,{children:["The result ",(0,n.jsx)(s.code,{children:"user:anne"})," and ",(0,n.jsx)(s.code,{children:"user:beth"})," are the ",(0,n.jsx)(s.code,{children:"user"})," objects that have the ",(0,n.jsx)(s.code,{children:"reader"})," relationship with ",(0,n.jsx)(s.code,{children:"document:planning"}),"."]}),"\n",(0,n.jsx)(s.admonition,{title:"Warning",type:"caution",children:(0,n.jsx)(s.p,{children:"The performance characteristics of the ListUsers endpoint vary drastically depending on the model complexity, number of tuples, and the relations it needs to evaluate. Relations with 'and' or 'but not' are particularly expensive to evaluate."})}),"\n",(0,n.jsx)(s.h2,{id:"related-sections",children:"Related Sections"}),"\n",(0,n.jsx)(l.XQ,{description:"Take a look at the following section for more on how to perform list users in your system",relatedLinks:[{title:"{ProductName} List Users API",description:"Read the List Users API documentation and see how it works.",link:"/api/service#Relationship%20Queries/ListUsers"}]})]})}function j(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(x,{...e})}):x(e)}}}]);